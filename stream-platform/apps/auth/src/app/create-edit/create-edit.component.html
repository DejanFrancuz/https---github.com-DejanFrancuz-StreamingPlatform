<div class="py-8 px-20 bg-surface rounded text-text max-w-2xl mx-auto">
  <h2 class="text-2xl font-semibold mb-6 text-primary">Edit User</h2>

  <form [formGroup]="editForm">
    <div class="flex flex-col gap-4">
      <div class="flex flex-row gap-6">
        <mat-form-field class="w-full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" />
          <mat-error *ngIf="editForm.get('email')?.hasError('email')">
            <span class="text-red-500 text-sm" >
              Email invalid
            </span>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username" />
          <mat-error *ngIf="editForm.get('username')?.hasError('required')">
            <span class="text-red-500 text-sm" >
              Username is required
            </span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="flex flex-row gap-6">
        <mat-form-field class="w-full">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" />
          <mat-error *ngIf="editForm.get('firstName')?.hasError('required')">
            <span class="text-red-500 text-sm" >
              First name is required
            </span>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" />
          <mat-error class="text-red-500 text-sm" *ngIf="editForm.get('lastName')?.hasError('required')">
            <span class="text-red-500 text-sm" >
              Last name is required
            </span>
          </mat-error>
        </mat-form-field>
      </div>

      <mat-checkbox *ngIf="isEditMode" formControlName="changePassword">Change Password</mat-checkbox>

      <div *ngIf="!isEditMode || showingPasswords">
      <mat-form-field class="w-full">
        <mat-label>Password</mat-label>
        <input matInput formControlName="password" type="password" />
        <mat-error *ngIf="editForm.get('password')?.hasError('required')">
            <span class="text-red-500 text-sm" >
              Password is required
            </span>
          </mat-error>
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Confirm password</mat-label>
        <input matInput formControlName="confirmPassword" type="password" />
        <mat-error *ngIf="editForm.get('confirmPassword')?.hasError('required')">
          <span class="text-red-500 text-sm" >
            Confirm Password is required
            </span>
        </mat-error>
      </mat-form-field>
      </div>

    </div>
    <div class="text-red-500 text-sm h-5 pl-5">
  <span *ngIf="editForm.errors?.['passwordsMismatch'] && editForm.touched">
    Passwords do not match.
  </span>
</div>

    <div class="flex justify-end">
      <stream-platform-ui-button
        variant="primary"
        (buttonPressed)="onSubmit()"
      >
        Edit
      </stream-platform-ui-button>
    </div>
  </form>
</div>
