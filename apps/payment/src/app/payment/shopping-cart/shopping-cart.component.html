<div *ngIf="cartMovies$ | async as cartMovies; else no_movies">
  <div class="flex flex-col">
      <ul class="grid grid-cols-4 gap-10">
      <li *ngFor="let movie of cartMovies">
        <div class="flex flex-col justify-between items-center rounded border border-text">
      <div class="w-40 h-60">
        <img
          [src]="environment.backendApiUrl + movie.posterUrl"
          alt="Poster"
          class="w-full h-full object-cover"
        />
      </div>
      <span class="text-md font-bold p-1" >{{ movie.title }}</span>
      <span class="text-sm italic p-1" > Price: $5.00</span>
      <div class="flex flex-row w-full justify-between pb-1 px-4">
      <button
      class="material-symbols-outlined text-lg cursor-pointer"
      (click)="removeFromCart(movie.movieId)"
      >
        close
      </button>
      <button
      (click)="viewMovie(movie.movieId)"
      class="material-symbols-outlined text-lg cursor-pointer">
        visibility

      </button>
      </div>
      </div>
      </li>
    </ul>
    <div class="flex flex-row justify-between items-center px-4 pt-16">
      <stream-platform-ui-button
      (buttonPressed)="goToMovies()"
      variant="primary"
      >
      Back
      </stream-platform-ui-button>

      <stream-platform-ui-button
        (buttonPressed)="goToCheckout()"
        variant="success"
        [disabled]="cartMovies.length === 0"
      >
        Checkout
      </stream-platform-ui-button>
    </div>
    </div>
    </div>

    <ng-template #no_movies>
      <p>There is no movies in your shopping cart!</p>
      <p>Go to the <a routerLink="/movies">Movies</a> page to add some.</p>
    </ng-template>


